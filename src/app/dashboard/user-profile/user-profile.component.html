<!-- Breadcrumb-->
<div class="row pt-2 pb-2">
	<div class="col-sm-9">
		<h4 class="page-title">User Profile</h4>
		<ol class="breadcrumb">
			
		</ol>
	</div>
	<div class="col-sm-3">
		<div ngbDropdown class="btn-group float-sm-right">
			<button type="button" class="btn btn-light"><i class="fa fa-cog mr-1"></i> Setting</button>
			<button type="button" class="btn btn-light" id="dropdownBasic5" ngbDropdownToggle> <span class="caret"></span>
			</button>
			<div ngbDropdownMenu aria-labelledby="dropdownBasic5"> 
        		<a href="javaScript:;" ngbDropdownItem>Action</a>
				<a href="javaScript:;" ngbDropdownItem>Another action</a>
				<a href="javaScript:;" ngbDropdownItem>Something else here</a>
				<div class="dropdown-divider"></div> 
				<a href="javaScript:;" ngbDropdownItem>Separated link</a>
			</div>
		</div>
	</div>
</div>
<!-- End Breadcrumb-->
<div class="row">
	<div class="col-lg-4">
		<div class="card profile-card-2">
			<div class="card-img-block" >
				<img class="img-fluid dropdown_hand" src="assets/images/gallery/31.jpg" alt="Card image cap">
			</div>
			<div class="card-body pt-5" >				
				<img [src]="user?.filepath"  alt="profile-image" class="profile dropdown_hand" (click)="open(profileuplode)">		
			
				<h5 class="card-title">{{FirstName}} {{LastName}}</h5>
				<p class="card-text">{{aboutme}}.</p>
				<div class="icon-block"> <a href="javascript:;"><i class="fa fa-facebook bg-facebook text-white"></i></a>
					<a href="javascript:;"> <i class="fa fa-twitter bg-twitter text-white"></i>
					</a>
					<a href="javascript:;"> <i class="fa fa-google-plus bg-google-plus text-white"></i>
					</a>
				</div>
			</div>

			<ng-template #profileuplode let-modal >
				<div class="modal-header" style="background-color: #17a2b8; color: white; font-weight: 400; font-family: helvetica; height: 60px;"> 
					<td size="10" ><strong style="text-align: center;"> {{user.FirstName}} {{user.LastName}}</strong> </td>                 
				<button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')" name="close" slot="end" >
				  <span aria-hidden="true">&times;</span>
				</button>
			  </div><br>
			  <div class="card-body border-top border-light"  *ngIf="!isUploading && !isUploaded" style="margin-left: 20px;">
				<h4>Choose Images to Upload</h4>
				<button color="primary" shape="round" size="large">
					<span>Select Image Size = 152 x 152</span>
					<input id="uploadBtn" type="file" class="upload dropdown_hand" (change)="uploadFile($event.target.files)" />
				  </button>
			  </div>
			  <div class="card-body border-top border-light" *ngIf="isUploading && !isUploaded">
				  <h4>Selected File:<b>{{ fileName }}</b></h4>
				  <div *ngIf="percentage | async as pct">
					Progress: {{ pct | number }}%
					<mat-progress-bar mode="indeterminate" value="{{pct/100}}"></mat-progress-bar>					
				  </div>
				  <div *ngIf="snapshot | async as snap">
					File Size: {{ snap.totalBytes }} Transfered:
					{{ snap.bytesTransferred }}
					<div *ngIf="snapshot && snap.bytesTransferred != snap.totalBytes">
					  <button color="warning" size="small" (click)="task.pause()" class="button is-warning">Pause</button>
					  <button size="small" (click)="task.resume()" class="button is-info">Resume</button>
					  <button color="danger" size="small" (click)="task.cancel()" class="button is-danger">Cancel</button>
					</div>
				  </div>
				  <div class="card-body border-top border-light" *ngIf="!isUploading && isUploaded">
					  <p><b>{{ fileName }}</b> Uploaded!</p>

					  <div *ngIf="UploadedFileURL | async as url">
						<img [src]="url" />
						<a [href]="url" target="_blank" rel="noopener">Download</a>
					  </div>
					  File Size: {{ fileSize  }}
					  <button expand="full" color="success" (click)="isUploading = isUploaded = false">Upload More</button>


				  </div>

			
			
			</div>


				

			</ng-template>

			<div class="card-body border-top border-light">
				<div class="media align-items-center">
					<div>
						<img src="assets/images/timeline/html5.svg" class="skill-img" alt="skill img">
					</div>
					<div class="media-body text-left ml-3">
						<div class="progress-wrapper">
							<p>HTML5 <span class="float-right">65%</span>
							</p>
							<ngb-progressbar type="white" [value]="65" height="5px"></ngb-progressbar>
						</div>
					</div>
				</div>
				<hr>
				<div class="media align-items-center">
					<div>
						<img src="assets/images/timeline/bootstrap-4.svg" class="skill-img" alt="skill img">
					</div>
					<div class="media-body text-left ml-3">
						<div class="progress-wrapper">
							<p>Bootstrap 4 <span class="float-right">50%</span>
							</p>
							<ngb-progressbar type="white" [value]="50" height="5px"></ngb-progressbar>
						</div>
					</div>
				</div>
				<hr>
				<div class="media align-items-center">
					<div>
						<img src="assets/images/timeline/angular-icon.svg" class="skill-img" alt="skill img">
					</div>
					<div class="media-body text-left ml-3">
						<div class="progress-wrapper">
							<p>AngularJS <span class="float-right">70%</span>
							</p>
							<ngb-progressbar type="white" [value]="70" height="5px"></ngb-progressbar>
						</div>
					</div>
				</div>
				<hr>
				<div class="media align-items-center">
					<div>
						<img src="assets/images/timeline/react.svg" class="skill-img" alt="skill img">
					</div>
					<div class="media-body text-left ml-3">
						<div class="progress-wrapper">
							<p>React JS <span class="float-right">35%</span>
							</p>
							<ngb-progressbar type="white" [value]="35" height="5px"></ngb-progressbar>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="col-lg-8">
		<div class="card">
			<div class="card-body">
				<nav ngbNav #nav="ngbNav" class="nav-tabs nav-tabs-primary top-icon nav-justified">
					<ng-container ngbNavItem> <a ngbNavLink><i class="icon-user"></i>Profile</a>
						<ng-template ngbNavContent>
							
							<div class="row">
								<div class="col-md-6">
									
								</div>
								<div class="col-md-6">
									
								</div>
								<div class="col-md-12">
									<h5 class="mt-2 mb-3"><span class="fa fa-clock-o ion-clock float-right"></span> Your Profile</h5>
									<div class="table-responsive">
										<table class="table table-hover table-striped">
											<tbody>
												<tr>
													<td><strong>{{FirstName}} {{LastName}}</strong>
													</td>
												</tr>										
												<tr>
													<td> <strong>{{Email}}</strong> 
													</td>
												</tr>
												<tr>
													<td> <strong>{{phoneNumber}}</strong> 
													</td>
												</tr>
												<tr>
													<td> <strong>{{Address}}</strong> 
													</td>
												</tr>
												<tr>
													<td> <strong>{{designation}}</strong>
													</td>
												</tr>
												<tr>
													<td> <strong>{{City}}</strong> 
													</td>
												</tr>
												<tr>
													<td> <strong>{{State}}</strong> 
													</td>
												</tr>
											</tbody>
										</table>
									</div>
								</div>
							</div>
						</ng-template>
					</ng-container>
					<ng-container ngbNavItem> <a ngbNavLink><i class="icon-envelope-open"></i>Messages</a>
						<ng-template ngbNavContent>
							<ngb-alert type="info" [dismissible]="true"> <strong>Info!</strong> Better check yourself, you're looking too good.</ngb-alert>
							<div class="table-responsive">
								<table class="table table-hover table-striped">
									<tbody>
										<tr>
											<td> <span class="float-right font-weight-bold">3 hrs ago</span> Here is your a link to the latest summary report from the..</td>
										</tr>
										<tr>
											<td> <span class="float-right font-weight-bold">Yesterday</span> There has been a request on your account since that was..</td>
										</tr>
										<tr>
											<td> <span class="float-right font-weight-bold">9/10</span> Porttitor vitae ultrices quis, dapibus id dolor. Morbi venenatis lacinia rhoncus.</td>
										</tr>
										<tr>
											<td> <span class="float-right font-weight-bold">9/4</span> Vestibulum tincidunt ullamcorper eros eget luctus.</td>
										</tr>
										<tr>
											<td> <span class="float-right font-weight-bold">9/4</span> Maxamillion ais the fix for tibulum tincidunt ullamcorper eros.</td>
										</tr>
									</tbody>
								</table>
							</div>
						</ng-template>
					</ng-container>
					<ng-container ngbNavItem> <a ngbNavLink><i class="icon-note"></i>Edit</a>
						<ng-template ngbNavContent>
							<form>
								<div class="form-group row">
									<label class="col-lg-3 col-form-label form-control-label">First name</label>
									<div class="col-lg-9">
										<input class="form-control" type="text" [(ngModel)]="FirstName" name="FirstName">
									</div>
								</div>
								<div class="form-group row">
									<label class="col-lg-3 col-form-label form-control-label">Last name</label>
									<div class="col-lg-9">
										<input class="form-control" type="text" [(ngModel)]="LastName" name="LastName">
									</div>
								</div>
								<div class="form-group row">
									<label class="col-lg-3 col-form-label form-control-label">Email</label>
									<div class="col-lg-9">
										<input class="form-control" type="email" [(ngModel)]="Email" name="Email">
									</div>
								</div>								
								<div class="form-group row">
									<label class="col-lg-3 col-form-label form-control-label">Designation</label>
									<div class="col-lg-9">
										<input class="form-control" type="text" [(ngModel)]="designation" name="designation">
									</div>
								</div>
								<div class="form-group row">
									<label class="col-lg-3 col-form-label form-control-label">Phone Number</label>
									<div class="col-lg-9">
										<input class="form-control" type="number" [(ngModel)]="phoneNumber" name="phoneNumber">
									</div>
								</div>
								<div class="form-group row">
									<label class="col-lg-3 col-form-label form-control-label">Address</label>
									<div class="col-lg-9">
										<input class="form-control" type="text" [(ngModel)]="Address" name="Address" placeholder="Street">
									</div>
								</div>
								<div class="form-group row">
									<label class="col-lg-3 col-form-label form-control-label"></label>
									<div class="col-lg-6">
										<input class="form-control" type="text" [(ngModel)]="City" name="City" placeholder="City">
									</div>
									<div class="col-lg-3">
										<input class="form-control" type="text" [(ngModel)]="State" name="State" placeholder="State">
									</div>
								</div>
								<div class="form-group row">
									<label class="col-lg-3 col-form-label form-control-label">Username</label>
									<div class="col-lg-9">
										<input class="form-control" type="text" [(ngModel)]="userName" name="userName">
									</div>
								</div>
								<div class="form-group row">
									<label class="col-lg-3 col-form-label form-control-label">About Me</label>
									<div class="col-lg-9">
										<input class="form-control" type="text" [(ngModel)]="aboutme" name="aboutme">
									</div>
								</div>							
								<div class="form-group row">
									<label class="col-lg-3 col-form-label form-control-label"></label>
									<div class="col-lg-9">
										<input type="reset" class="btn btn-secondary mr-1" value="Cancel">
										<input type="button" class="btn btn-primary" value="Save Changes" (click)="updateProfile()">
									</div>
								</div>
							</form>
						</ng-template>
					</ng-container>
				</nav>
				<div [ngbNavOutlet]="nav" class="mt-2"></div>
			</div>
		</div>
	</div>
</div>
